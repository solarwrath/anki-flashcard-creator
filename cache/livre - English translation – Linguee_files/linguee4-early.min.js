var keyPressField=!1,queryFocussedOnKeyPress=!1,adPlacement="",adSuppressed=!1;function queryIsMobilePhone(){return void 0!==window.matchMedia&&window.matchMedia("only screen and (max-device-width : 650px)").matches}function is_touch_device(){return"ontouchstart"in window||!!navigator.msMaxTouchPoints}function adWidthClass(e){return isMobileLayout?"":""==e||"topAndRight"==e?"ad_180":"topAndRect"==e||"topAndHalfPage"==e||"leftAndRight"==e?"ad_355":"leftAndRect"==e||"leftAndRectWide"==e?"ad_530":"ad_705"}function l_page_wrapper(e,t,n){var o=is_touch_device()?" touch_device":" mouse_device";isIPhone?o+=" iphone ios":isIPad?o+=" ipad ios":isAndroid&&(o+=" android"),document.body.className=document.body.className+o,e&&(window.pageState.isAdsEnabled=!!e&&!t,adPlacement=correctAdPlacement(e),(adSuppressed=t)&&(" "+document.body.className+" ").replace(/[\t\r\n\f]/g," ").indexOf(" startpage ")>-1&&(adPlacement+="_suppressed"),adPlacement&&document.write(unescape("%3Cdiv id='l_page_wrapper' class='ad_"+adPlacement+" "+adWidthClass(adPlacement)+"'%3E")))}function correctAdPlacement(e){if(isMobileLayout)return"";var t=document.documentElement.clientWidth,n=document.documentElement.clientHeight;return"topAndHalfPage"==e&&(e="topAndHalfpage"),"LRectHalfpageRRectHalfpage"==e&&t<1580&&(e="topAndRect"),"topAndRect"!=e&&"topAndHalfpage"!=e||(n<870?e="leftAndRect":t<=895&&(e="topAndRight")),"topAndRect"==e&&(e="leftAndRect"),"leftAndRect"==e&&t<1200&&(e="leftAndRight"),isMobileNarrowDevice&&"topAndRight"==e&&(e="top"),e}function setVisible(e,t){var n=document.getElementById(e);n&&(n.style.display=t?"":"none")}function isVisible(e){if(e==document)return!0;if(!e)return!1;if(!e.parentNode)return!1;function t(e){return"none"!=e.display&&("hidden"!=e.visibility&&void 0)}return(!e.style||!t(e.style.visibility))&&((!window.getComputedStyle||!t(window.getComputedStyle(e,"")))&&((!e.currentStyle||!t(e.currentStyle))&&isVisible(e.parentNode)))}function isChar(e){if(e>64&&e<91||e>96&&e<123||e>191||0==e)return!0}!function(){void 0===window.pageState&&(window.pageState={});var e=window.pageState;e.isApp=!!(window.pageState.appInfo||/\b(app|android)[\-\.]/.test(document.domain)||/\boverride-host=[^=\s]*(app|android)[\-\.]/.test(document.cookie)||document.cookie.search("app=")>=0),e.isAppF=e.isApp,e.isMobilePhone=queryIsMobilePhone(),e.isMobilePhoneOrTablet=e.isApp||e.isMobilePhone||!!(window.matchMedia&&window.matchMedia("only screen and (max-device-width : 799px)").matches&&is_touch_device()),e.isMobileNarrowDevice=!(!window.matchMedia||!window.matchMedia("only screen and (max-device-width : 767px)").matches),e.isIPhone=!(!navigator.userAgent||!navigator.userAgent.match(/[\(\/](iPhone|iPod)/)),e.isAndroid=!(!navigator.userAgent||-1===navigator.userAgent.indexOf("Android")&&-1===navigator.userAgent.indexOf("SamsungBrowser")),e.isMobileLayout=e.isApp||e.isMobilePhone,e.isStartPage=!!window.isStartPage,e.isChromeOS=!(!navigator.userAgent||!navigator.userAgent.match(/\bCrOS\b/));var t=!(!navigator.platform||"MacIntel"!==navigator.platform)||!(!navigator.userAgent||!navigator.userAgent.includes("Mac")),n=t&&is_touch_device();e.isMac=t&&!is_touch_device(),e.isIPad=!(!navigator.userAgent||!navigator.userAgent.match(/[\(\/](iPad)/)&&!n),e.isWindows=!(!navigator.userAgent||-1===navigator.userAgent.indexOf("Win"))||!(!navigator.platform||"Win32"!==navigator.platform),["isApp","isAppF","isMobilePhone","isMobilePhoneOrTablet","isIPhone","isIPad","isAndroid","isMobileLayout","isStartPage","isMobileNarrowDevice"].forEach(function(t){window[t]=e[t]})}(),window.pageState&&(window.pageState.isMobileLayout=isMobileLayout,window.pageState.isApp=isApp,window.pageState.isAppF=isAppF);var isIE=/MSIE/.test(navigator.userAgent),isFF=/Firefox/.test(navigator.userAgent),isChrome=/Chrome/.test(navigator.userAgent)&&/Google\ Inc/.test(navigator.vendor),isSafari=/Safari/.test(navigator.userAgent)&&/Apple\ Computer/.test(navigator.vendor),isOpera=/Opera/.test(navigator.userAgent),isEdge=/Edge/.test(navigator.userAgent),isIENewer=/Trident/.test(navigator.userAgent);function allowAsync(){return isIE||isChrome||isSafari||isOpera||document.styleSheets}function afterHeader(){var e=document;if(e.bigform&&e.bigform.query&&isVisible(e.bigform.query)){var t=e.bigform;!isStartPage&&isMobilePhoneOrTablet||2===window.isAboutPage||(t.query.focus(),t.query.select()),e.onkeydown=function(e){try{var t=(e=e||(event||null)).target?e.target:e.srcElement;keyPressField&&isChar(e.keyCode)&&!(e.ctrlKey||e.altKey||e.metaKey)&&"TEXTAREA"!=t.nodeName&&("INPUT"!=t.nodeName||"text"!=t.type.toLowerCase()&&"password"!=t.type.toLowerCase())&&(window.queryFocussedOnKeyPress=!0,keyPressField.focus(),keyPressField.select(),"function"==typeof clearSelection&&clearSelection()),9!=e.keyCode&&setVisible("historyContent",!1)}catch(e){}},keyPressField=t.query}}String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t||(t=0),this.length>=e.length-t&&this.substr(t,e.length)==e}),String.prototype.endsWith||(String.prototype.endsWith=function(e){return this.startsWith(e,this.length-e.length)});var M=function(){var e={},t=!1,n={},o=0,i="/_FILE_.js";function a(){return t}function r(t){return e[t]||(e[t]={onReady:[]})}function s(e,t){var r=++o,s=[],d=0,c=[],l="string"==typeof e?[e]:e;function u(e){d?c.push(e):(a()&&console.log("[M] whenAvailable",l,"-> ok.",e),e.apply(void 0,s),a()&&console.log("[M] whenAvailable",l,"-> ok. callback ready"))}return l.forEach(function(e,t){var o=M.__getModuleWrapper(e);if(o.hasOwnProperty("value"))s.push(o.value);else if(++d,s.push(void 0),o.onReady.push(function(e){if(s[t]=e,0==--d)for(a()&&console.log("[M] $"+r+" ... whenAvailable",l,"-> ok."),delete n[r];c.length;)c.shift().apply(void 0,s)}),e.startsWith("/")&&!o.isRequested){o.isRequested=!0;var u=i.replace("_FILE_",e.substr(1)),p=new XMLHttpRequest;p.onreadystatechange=function(){p.readyState===XMLHttpRequest.DONE&&(200===p.status?(0,eval)("(function(){ var __moduleId='"+e+"';function define(){var p=[__moduleId];for(var i=0;i<arguments.length;++i) p.push(arguments[i]);M.define.apply(M, p);} "+p.responseText+"\n})();"):console.warn("[M] Could not load module ",e,"from",u))},p.open("GET",u,!0),p.send(null)}}),d&&(a()&&console.log("[M] whenAvailable",l,"-> waiting...","$"+r),n[r]=c),t&&u(t),{then:u}}return{_setVerbose:function(e){t=e},__verbose:a,__modules:e,__getModuleWrapper:r,require:function(e,t){var n=[];return("string"==typeof e?[e]:e).forEach(function(e){var t=r(e);if(!t.hasOwnProperty("value"))throw new Error("[M] Required module '"+e+"' is not defined.");n.push(t.value)}),t&&t.apply(void 0,n),"string"==typeof e?n[0]:n},requireAsync:function(e,t,n){var o,i,a=s(e);return a.then(function(){o=!0,i&&clearTimeout(i)}),t&&a.then(t),o||(i=setTimeout(function(){throw new Error("[M] Could not fulfil requirements after timeout: "+JSON.stringify(e))},n||5e3)),a},whenAvailable:s,get:function(e){return r(e).value},register:function(e,n){t&&console.log("[M] Registering "+e);var o,i=r(e);if(i.hasOwnProperty("value"))throw new Error("Module already defined '"+e+"'");for(i.value=n;i.onReady.length;)try{i.onReady.shift()(n)}catch(e){o=e}if(o)throw console.log("[M] exception while registering module ",e),o;return n}}}();function documentReady(e){var t=M.__getModuleWrapper("documentReady");t.hasOwnProperty("value")?e():t.onReady.push(e)}function callDocumentReady(){M.get("documentReadyMarker")||M.register("documentReadyMarker",!0)}window.UI_Tools={createTemplateInstance:function(templateQuery,targetQuery){var backup=window.$$initInstance,template=document.querySelector(templateQuery);if(template.content){var nodeContainer=document.importNode(template.content,!0),node=nodeContainer.children[0];window.$$initInstance=function(e){e.call(node,node)},document.querySelector(targetQuery).appendChild(nodeContainer),window.$$initInstance=backup}else{for(var prototype=template.firstChild;1!==prototype.nodeType;)prototype=prototype.nextSibling;var node=prototype.cloneNode(!0),scriptTag=node.querySelector("script");scriptTag&&scriptTag.parentNode.removeChild(scriptTag),document.querySelector(targetQuery).appendChild(node),scriptTag&&(window.$$initInstance=function(e){e.call(node,node)},eval(scriptTag.textContent),window.$$initInstance=backup)}return node},toggleClass:function(e,t){var n=new RegExp("\\b"+t+"\\b");"string"==typeof e&&(e=document.querySelector(e)),e.className=n.test(e.className)?e.className.replace(n,"").trim():e.className.trim()+" "+t}},M.register("UI_Tools",UI_Tools);
